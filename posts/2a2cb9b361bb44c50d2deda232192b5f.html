<!DOCTYPE html><html lang=zh><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>以Patch的形式更新Android Studio - linjiang</title><meta name=description content=linjiang&#39;blog><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,300,700" type=text/css><link rel=stylesheet href=/style.css></head><body><header><h1><a href=/ >linjiang</a></h1><ul class=list-inline><li><a href=/ ><span>Home</span></a></li><li><a href=/about.html><span>About</span></a></li><li><a href=https://github.com/whataa target=_blank><span>GitHub</span></a></li></ul></header><div class=content><article class="blog-post post"><h2>以Patch的形式更新Android Studio</h2><p class=date>2016-12-30</p><div class=post-content><p>2019/09/19 更新：兼容最新的方式，添加Mac平台相关描述</p><h3 id=steps>Steps</h3><ol><li><p>通过如下方式得到最新渠道(<code>Canary, Dev, Beta, Stable</code>)版本号；</p><pre><code>1. https://dl.google.com/android/studio/patches/updates.xml
or
2. http://tools.android.com/download/studio
</code></pre></li><li><p>查看本地Studio的版本号，</p><p>例如：Build #AI-191.8026.42.35.5791312, built on August 9, 2019</p></li><li><p>拼接Studio Patch的地址并下载</p><ul><li><code>${platform}</code> ：windows平台为win，Mac平台为mac</li><li><code>${from-version}</code>：当前版本</li><li><code>${to-version}</code> ：最新版本</li></ul><pre><code>// 无需代理
https://dl.google.com/android/studio/patches/AI-${from-version}-${to-version}-patch-${platform}.jar
</code></pre></li><li><p>得到Patch文件后，粘贴至Android Studio根目录下的上层文件夹（建议）。</p><blockquote><p>Windows：若直接存放在根目录下，执行命令时会出现冲突。 Mac：粘贴至 /Applications/Android\ Studio.app/ ，即于Contents目录同级。</p></blockquote></li><li><p>打开终端cd到上述对应路径，执行如下命令：</p><pre><code>0. 注意如果目录是在系统盘(C:)，一定要使用带 管理员权限 的命令提示符；
1. 注意${PATCH-PATH}为可执行的Patch的路径及文件全名（可使用相对路径）；
2. 注意命令最后有一个“.”
Java -classpath ${PATCH-PATH} com.intellij.updater.Runner install .
</code></pre><blockquote><p>最新方式中将最后的 <code>.</code> 替换为 <code>Contents</code></p></blockquote></li></ol><h3 id=demo>Demo</h3><ol><li><p>本地version为：<code>145.3360264</code><br>最新version为：<code>145.3537739</code></p></li><li><p>下载<code>https://dl.google.com/android/studio/patches/AI-145.3360264-145.3537739-patch-win.jar</code></p></li><li><p>粘贴至<code>E:\Android Studio Wrapper\AI-145.3360264-145.3537739-patch-win.jar</code></p></li><li><p>终端 cd 至 <code>E:\Android Studio Wrapper\Android Studio&gt;:</code></p></li><li><p>执行命令：</p></li></ol><pre><code>// window
Java -classpath ..\AI-145.3360264-145.3537739-patch-win.jar com.intellij.updater.Runner install .
// mac
java -classpath ./AI-145.3360264-145.3537739-patch--mac.jar com.intellij.updater.Runner install Contents
</code></pre><h3 id=notice>Notice</h3><ul><li><p>该方法仅适用于版本跨度小的升级，早期的版本或者大版本更新有可能并没有放出patch文件，一切以下载链接是否可用为准。</p></li><li><p>建议在关闭Android Studio的前提下运行上面的步骤。</p></li><li><p>执行第5步后，有可能出现提示大意指：<code>不能删除文件xxx，无法应用patch</code> 等信息，请直接忽略掉（点击cancel），正常情况下后续会依次经历back up、apply patch；也有可能在back up后出现failed patch，请确保权限正确。</p></li></ul></div></article><script src=https://giscus.app/client.js data-repo=whataa/whataa.github.io data-repo-id="MDEwOlJlcG9zaXRvcnk1NDY1NzI1MA==" data-category=Announcements data-category-id=DIC_kwDOA0IA4s4CtJJY data-mapping=title data-strict=0 data-reactions-enabled=0 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script>hljs.highlightAll()</script></div></body></html>